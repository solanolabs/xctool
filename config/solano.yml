# Solano CI Configuration for example xctool repo

resource_pools:
  - example_osx_resource_pool # Sets $OSX_HOST

environment:
  'OSX_SSH_PORT': '22'
  'SOLANO_SSH_PORT': '2222'

hooks:
  pre_setup: ./config/buck-install.sh && ./config/pre_setup.sh
  post_build: ./config/post_build.sh

tests:
  - ./config/osx_test.sh ./config/xctool-build.sh
  # iOS simulator tests require secondary ssh connection. See config/solano-sshd/README.txt.
  #- ./config/osx_simulator_test.sh ./config/xctool-simulator.sh

cache: # Cache dependencies for faster build times
  key_paths:
    - config/buck-install.sh
  save_paths:
    - REPO/Vendor/buck
